# SonarCloud Configuration for Enterprise Documentation Platform V2
# Project identification
sonar.projectKey=akfbtn1-netizen_autodocprojclone
sonar.organization=akfbtn1-netizen
sonar.projectName=Enterprise Documentation Platform V2
sonar.projectVersion=2.0

# Source code settings
sonar.sources=src
sonar.tests=tests
sonar.sourceEncoding=UTF-8

# Language settings
sonar.language=cs
sonar.cs.file.suffixes=.cs

# Coverage settings - pointing to OpenCover XML format
sonar.cs.opencover.reportsPaths=**/TestResults/**/coverage.opencover.xml
sonar.cs.vstest.reportsPaths=**/*.trx

# Exclusions
sonar.exclusions=\
  **/bin/**,\
  **/obj/**,\
  **/Migrations/**,\
  **/*.Designer.cs,\
  **/wwwroot/lib/**,\
  **/node_modules/**

# Test exclusions
sonar.test.inclusions=\
  **/*Tests.cs,\
  **/*Test.cs,\
  **/Test*.cs

# Coverage exclusions - don't measure coverage on these files
sonar.coverage.exclusions=\
  **/*Tests.cs,\
  **/*Test.cs,\
  **/Test*.cs,\
  **/Program.cs,\
  **/Startup.cs,\
  **/Migrations/**,\
  **/*.Designer.cs

# Duplication exclusions
sonar.cpd.exclusions=\
  **/Migrations/**,\
  **/*.Designer.cs

# Quality Gate - STRICT SETTINGS
# These are more strict than the default "Sonar way" quality gate

# Code Coverage - Require high coverage
sonar.coverage.minimum=80.0

# Code Smells - Be very strict
sonar.issue.ignore.multicriteria=e1,e2

# Ignore specific rules if needed (example - adjust as needed)
# sonar.issue.ignore.multicriteria.e1.ruleKey=csharpsquid:S1135
# sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.cs

# Security Hotspots - Review all
sonar.security.hotspots.inheritance=true

# Technical Debt
# Maximum allowed technical debt ratio (minutes per line of code)
sonar.technicalDebt.ratingGrid=0.05,0.1,0.2,0.5

# Code Complexity
# Cyclomatic complexity threshold
sonar.complexity.threshold=15

# Documentation
# Comment density (% of lines with comments)
sonar.comment.minimumDensity=25

# Duplications
# Maximum % of duplicated lines allowed
sonar.cpd.minimumLines=10
sonar.cpd.minimumTokens=100

# Issues
# Fail analysis on new critical/blocker issues
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# Pull Request Analysis
# These will be overridden by GitHub Actions for PRs
sonar.pullrequest.provider=github
sonar.pullrequest.github.repository=akfbtn1-netizen/autodocprojclone

# Branch Analysis
sonar.branch.longLivedBranches.regex=^(main|master|develop|release/.*)$

# Analysis Settings
sonar.verbose=false
sonar.log.level=INFO

# SCM Settings
sonar.scm.provider=git
sonar.scm.disabled=false

# Force authentication
sonar.forceAuthentication=true

# Analysis cache
sonar.scanner.metadataFilePath=.scannerwork/report-task.txt
