@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 250 250 249;
    --foreground: 28 25 23;
    --card: 255 255 255;
    --card-foreground: 28 25 23;
    --primary: 20 184 166;
    --primary-foreground: 255 255 255;
    --muted: 245 245 244;
    --muted-foreground: 120 113 108;
    --accent: 231 229 228;
    --accent-foreground: 28 25 23;
    --destructive: 239 68 68;
    --destructive-foreground: 255 255 255;
    --border: 231 229 228;
    --input: 231 229 228;
    --ring: 20 184 166;
  }

  .dark {
    --background: 28 25 23;
    --foreground: 250 250 249;
    --card: 41 37 36;
    --card-foreground: 250 250 249;
    --primary: 20 184 166;
    --primary-foreground: 255 255 255;
    --muted: 87 83 78;
    --muted-foreground: 168 162 158;
    --accent: 87 83 78;
    --accent-foreground: 250 250 249;
    --destructive: 239 68 68;
    --destructive-foreground: 255 255 255;
    --border: 87 83 78;
    --input: 87 83 78;
    --ring: 20 184 166;
  }

  * {
    @apply border-border;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-surface-50 text-surface-900 font-sans antialiased;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }

  /* Custom scrollbar for webkit browsers */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-surface-100 rounded-full;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-surface-300 rounded-full transition-colors;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-surface-400;
  }
}

@layer components {
  /* Glass morphism effect */
  .glass {
    @apply bg-white/70 backdrop-blur-xl border border-white/20;
  }

  .glass-dark {
    @apply bg-surface-900/80 backdrop-blur-xl border border-white/10;
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-gradient-to-r from-brand-600 via-brand-500 to-brand-400 bg-clip-text text-transparent;
  }

  /* Card styles */
  .card {
    @apply bg-white rounded-2xl shadow-card border border-surface-200/50 transition-all duration-300;
  }

  .card:hover {
    @apply shadow-card-hover border-surface-300/50;
  }

  .card-elevated {
    @apply bg-white rounded-2xl shadow-elevated border border-surface-200/30;
  }

  /* Button base */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none;
  }

  .btn-primary {
    @apply btn bg-brand-600 text-white hover:bg-brand-700 active:bg-brand-800 shadow-sm hover:shadow-md;
  }

  .btn-secondary {
    @apply btn bg-surface-100 text-surface-700 hover:bg-surface-200 active:bg-surface-300 border border-surface-200;
  }

  .btn-ghost {
    @apply btn bg-transparent text-surface-600 hover:bg-surface-100 active:bg-surface-200;
  }

  .btn-danger {
    @apply btn bg-red-600 text-white hover:bg-red-700 active:bg-red-800;
  }

  /* Input styles */
  .input {
    @apply w-full px-4 py-2.5 rounded-xl border border-surface-200 bg-white text-surface-900 placeholder:text-surface-400 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent transition-all;
  }

  /* Badge/Status pill */
  .badge {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold;
  }

  .badge-draft {
    @apply badge bg-status-draft-bg text-status-draft-text border border-status-draft-border/30;
  }

  .badge-pending {
    @apply badge bg-status-pending-bg text-status-pending-text border border-status-pending-border/30;
  }

  .badge-review {
    @apply badge bg-status-review-bg text-status-review-text border border-status-review-border/30;
  }

  .badge-approved {
    @apply badge bg-status-approved-bg text-status-approved-text border border-status-approved-border/30;
  }

  .badge-completed {
    @apply badge bg-status-completed-bg text-status-completed-text border border-status-completed-border/30;
  }

  .badge-rejected {
    @apply badge bg-status-rejected-bg text-status-rejected-text border border-status-rejected-border/30;
  }

  /* Workflow node styles */
  .workflow-node {
    @apply bg-white rounded-2xl shadow-card p-5 border-2 border-surface-200 min-w-[220px] transition-all duration-300;
  }

  .workflow-node:hover {
    @apply shadow-card-hover;
  }

  .workflow-node.active {
    @apply shadow-glow border-brand-400;
  }

  .workflow-node[data-status="draft"] {
    @apply border-l-4 border-l-yellow-400;
  }

  .workflow-node[data-status="pending"] {
    @apply border-l-4 border-l-orange-400;
  }

  .workflow-node[data-status="review"] {
    @apply border-l-4 border-l-blue-400;
  }

  .workflow-node[data-status="approved"] {
    @apply border-l-4 border-l-green-400;
  }

  .workflow-node[data-status="completed"] {
    @apply border-l-4 border-l-purple-400;
  }

  /* KPI Card */
  .kpi-card {
    @apply card p-6 hover:shadow-card-hover;
  }

  /* Shimmer loading effect */
  .shimmer {
    @apply relative overflow-hidden bg-surface-100;
  }

  .shimmer::after {
    content: '';
    @apply absolute inset-0 -translate-x-full animate-shimmer;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.5),
      transparent
    );
    background-size: 200% 100%;
  }

  /* Subtle noise texture overlay */
  .noise-overlay {
    @apply pointer-events-none fixed inset-0 z-50 opacity-[0.015] mix-blend-soft-light;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }
}

@layer utilities {
  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Text balance for better readability */
  .text-balance {
    text-wrap: balance;
  }

  /* Focus visible ring */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2;
  }
}

/* React Flow custom styles */
.react-flow__node {
  @apply !bg-transparent !border-0 !shadow-none;
}

.react-flow__edge-path {
  @apply stroke-surface-300;
  stroke-width: 2;
}

.react-flow__edge.animated path {
  stroke-dasharray: 5;
  animation: dash 0.5s linear infinite;
}

@keyframes dash {
  to {
    stroke-dashoffset: -10;
  }
}

.react-flow__handle {
  @apply !w-3 !h-3 !bg-brand-500 !border-2 !border-white !shadow-sm;
}

.react-flow__background-pattern {
  @apply !fill-surface-200/50;
}

.react-flow__minimap {
  @apply !bg-white/80 !backdrop-blur-sm !border !border-surface-200 !rounded-xl !shadow-card overflow-hidden;
}

.react-flow__controls {
  @apply !bg-white !border !border-surface-200 !rounded-xl !shadow-card overflow-hidden;
}

.react-flow__controls-button {
  @apply !border-0 !border-b !border-surface-100 hover:!bg-surface-50;
}

.react-flow__controls-button:last-child {
  @apply !border-b-0;
}
